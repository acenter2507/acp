<div class="container-fluid animated fadeIn">
  <div class="d-sm-down-none h80"></div>

  <div class="row mg20t">
    <div class="col-xs-12 col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3">
      <div class="well">
        <h3>セット登録</h3>
        <form name="vm.form.comboForm" ng-submit="vm.handleStartSaveCombo(vm.form.comboForm.$valid)" novalidate>
          <div class="form-group" show-errors>
            <div class="col-xs-12">
              <label for="name">名称</label>
              <input name="name" type="text" ng-model="vm.combo.name" id="name" class="form-control" placeholder="名称" required>
              <div ng-messages="vm.form.comboForm.name.$error" role="alert">
                <p class="help-block error-text font-sm" ng-message="required">名称は必須です。</p>
              </div>
            </div>
            <div class="clearfix"></div>
          </div>
          <div class="form-group">
            <div class="col-sm-6">
              <label for="color_code">セット組カラーコード</label>
              <input name="color_code" type="text" ng-model="vm.combo.color_code" class="form-control" placeholder="セット組カラーコード">
            </div>
            <div class="col-sm-6">
              <label for="author">担当者</label>
              <input name="author" type="text" ng-model="vm.combo.author" class="form-control" placeholder="担当者">
            </div>
            <div class="clearfix"></div>
          </div>
          <div class="form-group">
            <div class="col-sm-6">
              <label for="datetime">年月日</label>
              <input name="datetime" type="date" ng-model="vm.combo.datetime" class="form-control" placeholder="年月日">
            </div>
            <div class="col-sm-6">
              <label for="sterilize_date">減菌年月日</label>
              <input name="sterilize_date" type="date" ng-model="vm.combo.sterilize_date" class="form-control" placeholder="減菌年月日">
            </div>
            <div class="clearfix"></div>
          </div>
          <div class="form-group text-right">
            <div class="col-xs-12">
              <button type="submit" class="btn btn-primary">
                <i ng-show="vm.busy" class="fa fa-spinner fa-pulse fa-fw"></i> 保存</button>
              <button type="button" class="btn btn-default" ng-click="vm.handleCancelInput()">キャンセル</button>
              <button type="button" class="btn btn-danger" ng-if="vm.combo._id" ng-click="vm.handleDeleteCombo()">削除</button>
            </div>
            <div class="clearfix"></div>
          </div>
        </form>
      </div>
      <div class="well" ng-if="vm.combo._id">
        <h3>製品</h3>
        <div class="product-item-block mg6x" ng-repeat="product in vm.combo.products">
          <div class="product-basic-info">
            <div class="product-avatar">
              <img src="{{:: product.image }}">
            </div>
            <div class="product-info">
              <span class="product-info-name">{{:: product.name}}</span>
              <span class="font-sm">{{::product.author}}</span>
            </div>
            <div class="product-action">
              <a class="product-options">
                <i class="fa fa-product-plus"></i>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>